<!DOCTYPE html>
<html lang="zh-cn">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Git简易指南 | Boiao Ch</title>
<link rel="stylesheet" href="https://liaobinbin.com//css/style.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

<link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.5.1/styles/base16/solarized-light.min.css">


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://liaobinbin.com/"><h1 class="title is-4">Boiao Ch</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/liaobinbin">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">July 20, 2020</h2>
    <h1 class="title">Git简易指南</h1>
    <div class="content">
      <h1 id="git安装">Git安装</h1>
<h2 id="macos">MacOS</h2>
<p><code>MacOS</code>自带git命令，前提是需要安装<code>Xcode Command Line Tools</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git --version
</code></pre></div><h2 id="linux">Linux</h2>
<p>根据发行版的不同安装方式有差异，这里给出<code>debian</code>系的安装方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install git-all
</code></pre></div><p>更多的安装方式请参考<a href="https://git-scm.com/download/linux">这里!!</a></p>
<h2 id="windows">Windows</h2>
<p>打开<a href="https://git-scm.com/download/win">Git - Downloading Package</a> 该网址，下载适合自己系统位数的版本进行安装。</p>
<h1 id="http-和-ssh-方式连接远程git">HTTP 和 SSH 方式连接远程GIT</h1>
<h2 id="http">HTTP</h2>
<p>该方式相交于SSH连接，安全性有所降低，但使用起来都是没有什么差距的</p>
<p>不方便的点是在于每次本地git和远端git进行数据来往时，都会询问要账号密码，相对于SSH验证的话会比较麻烦，但是有些第三方的git工具会帮你进行该操作，可以帮你保存账号和密码。</p>
<h2 id="ssh">SSH</h2>
<p>初次使用会比较麻烦，需要配置openssh密钥对</p>
<h3 id="首先创建一个自己密钥">首先创建一个自己密钥</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh-keygen -t rsa -C <span style="color:#e6db74">&#34;你的email地址&#34;</span> <span style="color:#75715e">#高级用法自己看帮助</span>
</code></pre></div><h3 id="添加ssh-key到服务器">添加SSH KEY到服务器</h3>
<p>以gitlab为例，<code>User Settings</code> &ndash;&gt; <code>SSH Keys</code> &ndash;&gt;  将<code>id_rsa.pub</code>里面的内容拷贝到key的输入框里面，title自己随便写一个(建议写自己的电脑名称，方便多台电脑记录key的使用),点击<code>Add key</code>进行添加。</p>
<p>然后就可以愉快的进行Git操作了。</p>
<p><em>至于ssh config的高级用法，请自行查找资料(便于多远端git地址验证和使用)</em></p>
<h1 id="clone-克隆">Clone 克隆</h1>
<p>第一件要做的事情就是克隆代码仓库到本地，使用的命令是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone http地址或者ssh地址
</code></pre></div><h1 id="push-推送">Push 推送</h1>
<p>如果是远端仓库为空的仓库，本地有了git仓库，要本地推送到远端，使用push指令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push
</code></pre></div><blockquote>
<p>push之前需要绑定一次远端和本地的关联
使用<code>git remote add</code>进行添加
例如：</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git remote add origin xxx.git
</code></pre></div><p>其中origin可以任意取名称作为识别区分，作为一个本地仓库多个远端仓库的情况使用，默认情况夏还是建议使用<code>origin</code></p>
<h1 id="fetch-获取">Fetch 获取</h1>
<p>用于获取远端分支的更新</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git fetch
</code></pre></div><p>可以得到远端的分支的一些变化，以便确保知道哪些分支有改动</p>
<h1 id="pull-拉取">Pull 拉取</h1>
<p>该指令主要是针对当前分支 进行拉取远端最新的数据，如果远端没有更新，那么会提示<code>Already up to date.</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git pull
</code></pre></div><h1 id="add-暂存文件">Add 暂存文件</h1>
<p>该指令是将指定文件添加到暂存区</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add 文件名
git add . <span style="color:#75715e">#增加新增文件和更新的文件，不包括删除的文件</span>
git add -u <span style="color:#75715e">#只增加本身已经被add的文件(tracked),也就是被更新的文件</span>
git add -A <span style="color:#75715e">#增加所有变更</span>
</code></pre></div><h1 id="commit-提交">Commit 提交</h1>
<p>将暂存区的内容进行保存为一次提交，有点类似于保存文件并打上记号</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit -m <span style="color:#e6db74">&#39;提交信息&#39;</span> <span style="color:#75715e">#</span>
git commit —amend <span style="color:#75715e"># 会把当前暂存的文件直接添加到上一次的commit中，不会增加多的commit，用于补充修改上次commit的少量内容使用，可以让commit保持干净</span>
</code></pre></div><p><em>题外话:Commit规范</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install commitizen -g
git cz
</code></pre></div><h1 id="merge-合并">Merge 合并</h1>
<p>合并分支的目的是为了团队协作之间，将不同的代码分支进行合并</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git merge 目标分支名 <span style="color:#75715e">#可以是远端分支 例如 origin/dev</span>
</code></pre></div><p>首先在当前分支下，使用该命令，会将目标分支合并到当前分支，如果有冲突的情况下，会有冲突文件的特殊标识。
git并会说明冲突部分的代码块是当前分支(current)还是输入(incomming)的内容，需要解决冲突，也就是在冲突的部分，二者选其中一个。对文件进行修改后保存，进行commit提交,并推送远端分支，完成合并</p>
<p><em>注：如果没有冲突的情况下，直接合并会将当前的head指到两个分支里面最新的commit,并且所有的commit将会合并到一个分支，可以通过<code>git log</code>进行查看</em></p>
<h1 id="status-状态">Status 状态</h1>
<p>用于查看当前工作区的状体，查看文件新增 更新 删除，该指令会将文件的变化列在命令输出的结果里面</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git status
</code></pre></div><h1 id="branch-分支">Branch 分支</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git branch 分支名 <span style="color:#75715e">#会基于当前分支创建一个指定名字的分支</span>
git branch <span style="color:#75715e">#列出所有分支</span>
git branch -d 分支名 <span style="color:#75715e">#删除分支</span>
git branch -D 分支名 <span style="color:#75715e">#强制删除分支</span>
</code></pre></div><h1 id="checkout-签出">Checkout 签出</h1>
<p>用于切换当前分支，以及创建分支</p>
<blockquote>
<p>还有恢复文件的功能
如果是删除文件已经commit了，需要通过<code>git checkout #commitID 文件名</code>,这时候<code>git status</code>可以看到会将该文件列为新增文件，你需要重新创建一个commit来将他保存到git中
如果是还没有进行提交的文件<code>git checkout HEAD -- 文件名</code> 即可。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout 分支名
git checkout -b dev origin/dev <span style="color:#75715e"># 直接基于远程dev分支 创建一个本地dev分支，并且切换到dev分支</span>
</code></pre></div><p><em>新版本git已经将checkout拆分为<code>switch</code>和<code>restore</code>,具体用法可以自行了解</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git switch 分支名 <span style="color:#75715e">#切换分支</span>
git switch -c 分支名 <span style="color:#75715e">#创建一个分支并切换过去</span>
</code></pre></div><h1 id="stash-草稿">Stash 草稿</h1>
<p>用于在进行修改后，但是却不需要进行commit，这个时候需要一个干净的工作区的情况下，例如在不提交的的时候进行合并代码等操作</p>
<p>注意stash的文件必须是被add到git工作区了的文件才可以(该文件要被git所控制)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git stash <span style="color:#f92672">[</span>save message<span style="color:#f92672">]</span> <span style="color:#75715e">#message代表的是自己写的注释，以便还原该stash 建议使用工具</span>
git stash list <span style="color:#75715e">#查看草稿列表</span>
git stash clear <span style="color:#75715e">#删除所有草稿</span>
</code></pre></div><h1 id="tag-标签">Tag 标签</h1>
<p>版本号控制</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git tag v1.0.0
git tag list <span style="color:#75715e">#列出所有tag</span>
git tag -d v1.0.0 <span style="color:#75715e">#删除指定tag</span>
git push origin --tags <span style="color:#75715e">#推送所有tag</span>
git push origin v1.0.0 <span style="color:#75715e">#推送指定tag</span>
</code></pre></div><h1 id="rm-删除">Rm 删除</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rm 文件名 <span style="color:#75715e">#同时从工作区和索引中删除文件。即本地的文件也被删除了</span>
git rm --cached 文件名 <span style="color:#75715e">#从索引中删除文件。但是本地文件还存在， 只是不希望这个文件被版本控制。</span>
git rm -r 文件夹名 <span style="color:#75715e"># 删除文件夹</span>
</code></pre></div><h1 id="log-日志">Log 日志</h1>
<p>用于查看commit提交的记录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log
</code></pre></div><h1 id="init-初始化">Init 初始化</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git init
</code></pre></div><p>该指令可以在一个空文件夹下创建一个git环境，会再当前目录下创建一个<code>.git</code>文件夹作为git的工作目录</p>
    </div>
  </div>
</section>
 
<section class="section">
  <div class="container">
    <div id="comment"></div>
</section>

 
<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://liaobinbin.com"> Boiao Ch</a> 2008 - 2018</p>
  </div>
</section>
<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/highlight.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/bash.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/typescript.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/javascript.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/go.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/dockerfile.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/json.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/c.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/cpp.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/css.min.js"></script>

<script type="text/javascript" src="//unpkg.com/@highlightjs/cdn-assets@11.5.1/languages/lisp.min.js"></script>

 
<script type="text/javascript" src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
 new Valine( {
     el: "#comment",
     visitor: true,
     recordIP: true,
     appId: "XIo8KShyg27BUQNLIDGqtjhj-gzGzoHsz",
     appKey: "6AGQbwYr9G7NhVKfqxiOnV4y",
     placeholder: "Write something ...",
     path: window.location.pathname,
     avatar: "retro"
 });
</script>


<script>hljs.initHighlightingOnLoad();</script>


